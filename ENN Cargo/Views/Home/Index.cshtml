
@Html.AntiForgeryToken()
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ENN Cargo - The European Transport Organisation</title>
    <!-- Font Awesome for professional icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
</head>
<body>
    <!-- Main header with logo -->
    

    <!-- Role-based dashboard navigation - Only visible when logged in -->
   

    <!-- Main navigation -->
    <nav class="main-nav">
        <button class="menu-toggle" id="menuToggle"><i class="fas fa-bars"></i></button>
        <div class="nav-links" id="navLinks">
            <a href="#">TRANSPORT SOLUTIONS</a>
            <a href="#">QUALITY & ENVIRONMENT</a>
            <a href="#">COMPANY</a>
            <a href="#">CONTACT</a>
        </div>
    </nav>

    <!-- Hero section -->
    <section class="hero">
        <!-- Hero image applied as background in CSS -->
        <div class="hero-content">
            <h1>YOUR RELIABLE PARTNER FOR TRANSPORT ACROSS EUROPE</h1>
            <p>Full truck loads and intermodal solutions for your cargo throughout Europe and beyond.</p>
            <a href="#" class="hero-button">EXPLORE OUR SOLUTIONS</a>
        </div>
    </section>

    <section class="company-highlights">
        <div class="container">
            <h2 class="highlight-title">This is ENN Cargo</h2>
            <p class="subtitle">Tailor-made solutions</p>

            <div class="feature-blocks">
                <!-- Feature 1: Complete cargo -->
                <div class="feature-block">
                    <div class="feature-icon">
                        <img src="https://res.cloudinary.com/dyonctb8p/image/upload/v1742372138/loads_1_whg2qt.png" alt="Complete Cargo">
                    </div>
                    <div class="feature-content">
                        <h3>Full truck load</h3>
                        <p>We organise more than 7,000 full truck loads every day on the road and in Combined Transport. This makes us one of Europe's largest transport companies</p>
                    </div>
                </div>

                <!-- Feature 2: Communication -->
                <div class="feature-block">
                    <div class="feature-icon">
                        <img src="https://res.cloudinary.com/dyonctb8p/image/upload/v1742372138/bubble-globe_1_elzk7f.png" alt="Communication">
                    </div>
                    <div class="feature-content">
                        <h3>Communication in your national language</h3>
                        <p>Our employees come from over 40 nations, speak more than 35 languages and communicate with you, your customers and suppliers in the appropriate national language.</p>
                    </div>
                </div>

                <!-- Feature 3: Personal contact -->
                <div class="feature-block">
                    <div class="feature-icon">
                        <img src="https://res.cloudinary.com/dyonctb8p/image/upload/v1742372138/bubble-user_1_lg9xsj.png" alt="Personal Contact">
                    </div>
                    <div class="feature-content">
                        <h3>Personal advice and support on site</h3>
                        <p>We attach great importance to providing comprehensive and competent advice. With us you receive a personal contact for all your concerns.</p>
                    </div>
                </div>

                <!-- Feature 4: High standards -->
                <div class="feature-block">
                    <div class="feature-icon">
                        <img src="https://res.cloudinary.com/dyonctb8p/image/upload/v1742372138/medal-star_v5kbwj.png" alt="High Standards">
                    </div>
                    <div class="feature-content">
                        <h3>Highest standards</h3>
                        <p>We don't compromise on quality, health, safety and environment. We offer innovative and environmentally-friendly solutions for your transports.</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Services section -->
    <section class="services-section">
        <div class="container">
            <h2 class="section-title">Our Transport Solutions</h2>
            <div class="services-grid">
                <div class="service-card">
                    <img src="https://res.cloudinary.com/dyonctb8p/image/upload/v1742195153/truck-front_fxhmsv.png" alt="Full Truck Loads">
                    <h3>Full Truck Load Transport</h3>
                    <p>We organize full loads throughout Europe with our high-quality transport network of over 7,000 selected carrier partners.</p>
                    <a href="#" class="btn">LEARN MORE</a>
                </div>
                <div class="service-card">
                    <img src="https://res.cloudinary.com/dyonctb8p/image/upload/v1742195286/intermodal_ol88gt.png" alt="Intermodal Transport">
                    <h3>Intermodal Solutions</h3>
                    <p>Environmentally friendly combination of road and rail transport for sustainable and reliable cargo transport.</p>
                    <a href="#" class="btn">LEARN MORE</a>
                </div>
                <div class="service-card">
                    <img src="https://res.cloudinary.com/dyonctb8p/image/upload/v1742195852/output-onlinepngtools_nqirwh.png" alt="Digital Solutions">
                    <h3>Digital Transport Management</h3>
                    <p>Real-time tracking and digital documentation for complete transparency throughout the transport process.</p>
                    <a href="#" class="btn">LEARN MORE</a>
                </div>
            </div>
        </div>
    </section>

    <!-- Stats section -->
    <section class="stats-section">
        <div class="container">
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="number">950+</div>
                    <div class="label">Transport specialists</div>
                </div>
                <div class="stat-card">
                    <div class="number">30</div>
                    <div class="label">Years of experience</div>
                </div>
                <div class="stat-card">
                    <div class="number">550,000</div>
                    <div class="label">Transports per year</div>
                </div>
                <div class="stat-card">
                    <div class="number">37</div>
                    <div class="label">European countries</div>
                </div>
            </div>
        </div>
    </section>

    <!-- Testimonials section with rotating testimonials -->
    <section class="testimonials-section">
        <div class="container">
            <h2 class="section-title">What Our Clients Say</h2>
            <div class="testimonial-container">
                <div class="testimonial active" id="testimonial1">
                    <div class="testimonial-text">
                        ENN Cargo has been our reliable transport partner for over 5 years. Their dedication to punctuality and their professional handling of our goods has made them an invaluable part of our logistics chain.
                    </div>
                    <div class="testimonial-author">John Doe</div>
                    <div class="testimonial-company">Logistics Manager at Example Corp</div>
                </div>
                <div class="testimonial" id="testimonial2">
                    <div class="testimonial-text">
                        We've been working with ENN Cargo since 2020, and I'm consistently impressed by their responsiveness and efficiency. They've helped us expand our business across Eastern Europe with minimal logistics challenges.
                    </div>
                    <div class="testimonial-author">Sarah Johnson</div>
                    <div class="testimonial-company">Supply Chain Director at Global Enterprises</div>
                </div>
                <div class="testimonial" id="testimonial3">
                    <div class="testimonial-text">
                        The intermodal transport solutions provided by ENN Cargo have significantly reduced our carbon footprint while maintaining reliable delivery times. Their commitment to sustainability aligns perfectly with our corporate values.
                    </div>
                    <div class="testimonial-author">Michael Weber</div>
                    <div class="testimonial-company">CEO at Green Manufacturing Ltd.</div>
                </div>
                <div class="testimonial" id="testimonial4">
                    <div class="testimonial-text">
                        What sets ENN Cargo apart is their digital tracking system. The real-time updates and complete transparency have revolutionized how we manage our supply chain and communicate with our customers.
                    </div>
                    <div class="testimonial-author">Elena Petrova</div>
                    <div class="testimonial-company">Operations Manager at Tech Solutions Inc.</div>
                </div>
                <div class="testimonial" id="testimonial5">
                    <div class="testimonial-text">
                        I've worked with many transport companies over my 15-year career, but ENN Cargo's attention to detail and customer service is unmatched. They treat every shipment as if it were their own product.
                    </div>
                    <div class="testimonial-author">Thomas Schmidt</div>
                    <div class="testimonial-company">Head of Distribution at Consumer Goods Co.</div>
                </div>
            </div>
            <div class="testimonial-nav">
                <span class="testimonial-dot active" data-testimonial="testimonial1"></span>
                <span class="testimonial-dot" data-testimonial="testimonial2"></span>
                <span class="testimonial-dot" data-testimonial="testimonial3"></span>
                <span class="testimonial-dot" data-testimonial="testimonial4"></span>
                <span class="testimonial-dot" data-testimonial="testimonial5"></span>
            </div>
        </div>
    </section>

    <!-- Contact section -->
    <section class="contact-section">
        <div class="container">
            <h2 class="section-title">Contact Us</h2>
            <div class="contact-grid">
                <div class="contact-info">
                    <h3>Get In Touch</h3>
                    <div class="contact-detail">
                        <span class="contact-icon"><i class="fas fa-map-marker-alt"></i></span>
                        <div>
                            <strong>ENN Cargo Headquarters</strong><br>
                            Industrialna Zona, ул. 23ти Пехотен шипченски полк №114,<br>
                            6100 Kazanlak, Bulgaria
                        </div>
                    </div>
                    <div class="contact-detail">
                        <span class="contact-icon"><i class="fas fa-phone-alt"></i></span>
                        <div>+359 89 508 0151</div>
                    </div>
                    <div class="contact-detail">
                        <span class="contact-icon"><i class="fas fa-envelope"></i></span>
                        <div>enncargo@gmail.com</div>
                    </div>
                    <div class="contact-detail">
                        <span class="contact-icon"><i class="fas fa-clock"></i></span>
                        <div>
                            <strong>Opening Hours:</strong><br>
                            Monday - Friday: 8:00 AM - 6:00 PM<br>
                            Saturday: 9:00 AM - 2:00 PM
                        </div>
                    </div>
                </div>
                <div class="contact-form">
                    <!-- Add form with action pointing to controller endpoint -->
                    <form id="contactForm" asp-controller="Contact" asp-action="SendContactEmail" method="post">
                        <div class="form-group">
                            <label for="name">Your Name</label>
                            <input type="text" id="name" name="name" placeholder="Enter your full name" required>
                        </div>
                        <div class="form-group">
                            <label for="email">Your Email</label>
                            <input type="email" id="email" name="email" placeholder="Enter your email address" required>
                        </div>
                        <div class="form-group">
                            <label for="subject">Subject</label>
                            <input type="text" id="subject" name="subject" placeholder="What is your inquiry about?" required>
                        </div>
                        <div class="form-group">
                            <label for="message">Your Message</label>
                            <textarea id="message" name="message" placeholder="Please describe your request in detail" required></textarea>
                        </div>
                        <!-- Add anti-forgery token for security -->
                        @Html.AntiForgeryToken()
                        <button type="submit" class="submit-btn">SEND MESSAGE</button>
                    </form>
                    <!-- Area to display success/error messages -->
                    <div id="formMessage" class="form-message" style="display: none;"></div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Mobile menu toggle
            const menuToggle = document.getElementById('menuToggle');
            const navLinks = document.getElementById('navLinks');

            if (menuToggle) {
                menuToggle.addEventListener('click', function() {
                    navLinks.classList.toggle('active');
                });
            }

            // Language dropdown toggle
            const languageSwitch = document.getElementById('languageSwitch');
            const languageFlyout = document.getElementById('languageFlyout');
            const closeFlyout = document.getElementById('closeFlyout');

            if (languageSwitch) {
                languageSwitch.addEventListener('click', function(e) {
                    e.stopPropagation();
                    if (languageFlyout) {
                        languageFlyout.classList.toggle('show');
                    }
                });

                if (closeFlyout) {
                    closeFlyout.addEventListener('click', function(e) {
                        e.stopPropagation();
                        if (languageFlyout) {
                            languageFlyout.classList.remove('show');
                        }
                    });
                }

                const languageItems = document.querySelectorAll('.language-item a');
                languageItems.forEach(item => {
                    item.addEventListener('click', function(e) {
                        this.style.fontWeight = 'bold';
                        if (languageFlyout) {
                            languageFlyout.classList.remove('show');
                        }
                    });
                });

                document.addEventListener('click', function(event) {
                    const isClickInside = (languageSwitch && languageSwitch.contains(event.target)) ||
                                          (languageFlyout && languageFlyout.contains(event.target));

                    if (!isClickInside && languageFlyout && languageFlyout.classList.contains('show')) {
                        languageFlyout.classList.remove('show');
                    }
                });
            }

            // Login button action
            const loginButton = document.getElementById('login-button');
            if (loginButton) {
                loginButton.addEventListener('click', function() {
                    window.location.href = '/Account/Login';
                });
            }

            // User menu dropdown toggle
            const userNameToggle = document.getElementById('user-name-toggle');
            const userDropdown = document.getElementById('user-dropdown');

            if (userNameToggle) {
                userNameToggle.addEventListener('click', function(e) {
                    e.stopPropagation();
                    userDropdown.classList.toggle('show');
                });

                document.addEventListener('click', function(event) {
                    const isClickInside = userNameToggle.contains(event.target) ||
                                          userDropdown.contains(event.target);

                    if (!isClickInside && userDropdown.classList.contains('show')) {
                        userDropdown.classList.remove('show');
                    }
                });
            }

            // Logout button
            const logoutButton = document.getElementById('logout-button');
            if (logoutButton) {
                logoutButton.addEventListener('click', function(e) {
                    e.preventDefault();

                    const userMenu = document.getElementById('user-menu');
                    const loginButton = document.getElementById('login-button');
                    const dashboardNav = document.getElementById('dashboard-nav');

                    if (userMenu) userMenu.style.display = 'none';
                    if (loginButton) loginButton.style.display = 'inline-block';
                    if (dashboardNav) dashboardNav.style.display = 'none';

                    fetch('/Account/Logout', {
                        method: 'POST',
                        headers: {
                            'RequestVerificationToken': document.querySelector('input[name="__RequestVerificationToken"]').value
                        }
                    })
                    .then(response => {
                        if (response.ok) {
                            console.log('Logout successful on server side');
                            window.location.href = '/';
                        } else {
                            console.error('Logout failed on server side');
                        }
                    })
                    .catch(error => {
                        console.error('Error during logout:', error);
                    });
                });
            }

            // Active state for dashboard links
            const dashboardLinks = document.querySelectorAll('.dashboard-links a');
            const currentPath = window.location.pathname;

            dashboardLinks.forEach(link => {
                if (currentPath.includes(link.getAttribute('href'))) {
                    link.classList.add('active');
                }
            });

            // Rotating testimonials
            const testimonials = document.querySelectorAll('.testimonial');
            const dots = document.querySelectorAll('.testimonial-dot');
            let currentTestimonial = 0;
            let testimonialInterval;

            function showTestimonial(index) {
                testimonials.forEach(testimonial => {
                    testimonial.classList.remove('active');
                });

                dots.forEach(dot => {
                    dot.classList.remove('active');
                });

                testimonials[index].classList.add('active');
                dots[index].classList.add('active');

                currentTestimonial = index;
            }

            function nextTestimonial() {
                let next = currentTestimonial + 1;
                if (next >= testimonials.length) {
                    next = 0;
                }
                showTestimonial(next);
            }

            dots.forEach((dot, index) => {
                dot.addEventListener('click', function() {
                    clearInterval(testimonialInterval);
                    showTestimonial(index);
                    testimonialInterval = setInterval(nextTestimonial, 7000);
                });
            });

            testimonialInterval = setInterval(nextTestimonial, 7000);

            const randomIndex = Math.floor(Math.random() * testimonials.length);
            showTestimonial(randomIndex);

            // Contact form submission via AJAX
            const contactForm = document.getElementById('contactForm');
            if (contactForm) {
                contactForm.addEventListener('submit', function(e) {
                    e.preventDefault();
                    const form = this;
                    const formMessage = document.getElementById('formMessage');
                    const submitBtn = form.querySelector('.submit-btn');
                    submitBtn.disabled = true;
                    submitBtn.textContent = 'Sending...';
                    const formData = new FormData(form);
                    fetch(form.action, {
                        method: 'POST',
                        body: formData,
                        headers: {
                            'RequestVerificationToken': form.querySelector('input[name="__RequestVerificationToken"]').value,
                            'Accept': 'application/json'
                        }
                    })
                    .then(response => {
                        if (!response.ok) {
                            if (response.status === 400) {
                                throw new Error('Bad request: Possibly an issue with form data or anti-forgery token.');
                            } else if (response.status === 500) {
                                throw new Error('Server error: Please try again later.');
                            } else {
                                throw new Error(`Server returned status ${response.status}`);
                            }
                        }
                        return response.json();
                    })
                    .then(data => {
                        formMessage.style.display = 'block';
                        if (data.success) {
                            formMessage.classList.remove('error');
                            formMessage.classList.add('success');
                            formMessage.textContent = data.message || 'Your message has been sent successfully!';
                            form.reset();
                        } else {
                            formMessage.classList.remove('success');
                            formMessage.classList.add('error');
                            formMessage.textContent = data.message || 'An error occurred while sending your message. Please try again.';
                        }
                    })
                    .catch(error => {
                        formMessage.style.display = 'block';
                        formMessage.classList.remove('success');
                        formMessage.classList.add('error');
                        formMessage.textContent = error.message || 'An error occurred while sending your message. Please try again.';
                        console.error('Error:', error);
                    })
                    .finally(() => {
                        submitBtn.disabled = false;
                        submitBtn.textContent = 'SEND MESSAGE';
                    });
                });
            }
        });
    </script>
</body>
</html>